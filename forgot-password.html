<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mot de passe oublié</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/forgot-password.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-store"></i>
                <span>MonShop</span>
            </div>
            <ul class="nav-links">
                <li>
                    <a href="index.html">
                        <i class="fas fa-home"></i>
                        <span>Accueil</span>
                    </a>
                </li>
                <li>
                    <a href="index.html#produits">
                        <i class="fas fa-tags"></i>
                        <span>Produits</span>
                    </a>
                </li>
                <li>
                    <a href="login.html">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Se connecter</span>
                    </a>
                </li>
                <li>
                    <a href="register.html">
                        <i class="fas fa-user-plus"></i>
                        <span>S'inscrire</span>
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <div class="reset-container">
        <div class="reset-card">
            <!-- État initial -->
            <div id="emailState">
                <div class="reset-header">
                    <div class="icon-container">
                        <i class="fas fa-lock-open"></i>
                    </div>
                    <h2>Mot de passe oublié?</h2>
                    <p>Entrez votre adresse email pour réinitialiser votre mot de passe</p>
                </div>

                <form id="resetForm">
                    <div class="form-group">
                        <div class="input-icon">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="email" placeholder="Votre adresse email" required>
                        </div>
                    </div>

                    <button type="submit" class="reset-button">
                        <span>Envoyer le lien</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>

                    <div class="back-to-login">
                        <a href="login.html">
                            <i class="fas fa-arrow-left"></i>
                            Retour à la connexion
                        </a>
                    </div>
                </form>
            </div>

            <!-- État d'envoi -->
            <div id="sendingState" style="display: none;">
                <div class="sending-animation-container">
                    <div class="envelope-animation">
                        <div class="paper"></div>
                        <div class="envelope"></div>
                    </div>
                    <div class="sending-waves">
                        <div class="wave"></div>
                        <div class="wave"></div>
                        <div class="wave"></div>
                    </div>
                </div>
                <p class="loading-text">Envoi de l'email en cours...</p>
            </div>

            <!-- État de succès -->
            <div id="successState">
                <div class="success-animation">
                    <i class="fas fa-check"></i>
                </div>
                <h2>Email envoyé!</h2>
                <p>Veuillez vérifier votre boîte de réception pour réinitialiser votre mot de passe.</p>
                <button class="reset-button" onclick="window.location.href='login.html'">
                    Retour à la connexion
                </button>
            </div>
        </div>
    </div>

    <script>
         document.getElementById('resetForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Cacher l'état initial avec fondu
            const emailState = document.getElementById('emailState');
            emailState.style.opacity = '0';
            emailState.style.transition = 'opacity 0.3s ease';
            
            setTimeout(() => {
                emailState.style.display = 'none';
                
                // Afficher l'animation d'envoi
                const sendingState = document.getElementById('sendingState');
                sendingState.style.display = 'block';
                
                // Simuler l'envoi d'email
                setTimeout(() => {
                    // Transition vers l'état de succès
                    sendingState.style.opacity = '0';
                    sendingState.style.transition = 'opacity 0.3s ease';
                    
                    setTimeout(() => {
                        sendingState.style.display = 'none';
                        const successState = document.getElementById('successState');
                        successState.style.display = 'block';
                        successState.style.opacity = '0';
                        
                        // Petit délai pour l'animation
                        requestAnimationFrame(() => {
                            successState.style.opacity = '1';
                            successState.style.transition = 'opacity 0.3s ease';
                        });
                    }, 300);
                }, 3000); // Durée de l'animation d'envoi
            }, 300);
        });
    </script>
</body>
</html>